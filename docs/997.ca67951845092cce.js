"use strict";(self.webpackChunkPixyDeltaApp=self.webpackChunkPixyDeltaApp||[]).push([[997],{4997:(M,f,a)=>{a.r(f),a.d(f,{UpdateNoteModule:()=>T});var S=a(6895),p=a(8996);function N(e,r,o,d,i,l,s){try{var c=e[l](s),m=c.value}catch(A){return void o(A)}c.done?r(m):Promise.resolve(m).then(d,i)}var n=a(4006),t=a(4650),B=a(5696),C=a(2732),v=a(805),u=a(3546),y=a(4859),h=a(9549),g=a(4144),U=a(2453);const D=[{path:"",component:(()=>{class e{constructor(o,d,i,l,s){this.shareDataService=o,this.notesService=d,this.router=i,this.formBuilder=l,this.messageService=s,this.today=new Date}ngOnInit(){this.getNote(),this.buildUpdateNoteForm()}getNote(){var o=this;return function F(e){return function(){var r=this,o=arguments;return new Promise(function(d,i){var l=e.apply(r,o);function s(m){N(l,d,i,s,c,"next",m)}function c(m){N(l,d,i,s,c,"throw",m)}s(void 0)})}}(function*(){o.note=yield o.shareDataService.getData("note"),null!=o.note&&o.setNoteDetailsToForm()})()}buildUpdateNoteForm(){this.updateNoteForm=this.formBuilder.group({id:["",n.kI.required],title:["",n.kI.required],content:["",n.kI.required],created:null,modified:null,addedBy:["Safikul islam",n.kI.required],addedDate:null,updatedBy:["Safikul islam",n.kI.required],updatedDate:null})}setNoteDetailsToForm(){this.updateNoteForm.patchValue({id:this.note.id,title:this.note.title,content:this.note.content,created:this.note.created,modified:this.note.modified,addedBy:this.note.addedBy,addedDate:this.note.addedDate,updatedBy:this.note.updatedBy,updatedDate:this.note.updatedDate})}onSubmitUpdateNoteForm(){if(this.updateNoteForm.patchValue({modified:this.today,updatedBy:"Safikul islam",updatedDate:this.today}),!this.updateNoteForm.valid)return this.messageService.add({severity:"error",summary:"Error",detail:"Please fill all the required fields"}),void console.log(this.updateNoteForm.value);this.notesService.UpdateNote(this.updateNoteForm.value).subscribe({next:o=>{this.messageService.add({severity:"success",summary:"Success",detail:"Note updated successfully"})},error:o=>{this.messageService.add({severity:"error",summary:"Error",detail:"Something went wrong"})},complete:()=>{}})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(B.u),t.Y36(C.U),t.Y36(p.F0),t.Y36(n.qu),t.Y36(v.ez))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-update-note"]],decls:22,vars:1,consts:[[1,"content"],[1,"container"],[1,"note-card"],[1,"py-0"],[1,"note-form",3,"formGroup","ngSubmit"],["appearance","outline",1,"note-full-width"],["matInput","","placeholder","Ex. My ToDo","formControlName","title"],["matInput","","placeholder","Ex. Buy an apple","formControlName","content"],[1,"d-flex","px-2","py-0"],["mat-raised-button","","color","primary","type","submit",3,"click"],["mat-raised-button","","routerLink","../all-notes"],["position","bottom-right"]],template:function(o,d){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-header")(4,"mat-card-title"),t._uU(5,"Update Note"),t.qZA()(),t.TgZ(6,"mat-card-content",3)(7,"form",4),t.NdJ("ngSubmit",function(){return d.onSubmitUpdateNoteForm()}),t.TgZ(8,"mat-form-field",5)(9,"mat-label"),t._uU(10,"Title"),t.qZA(),t._UZ(11,"input",6),t.qZA(),t.TgZ(12,"mat-form-field",5)(13,"mat-label"),t._uU(14,"Content"),t.qZA(),t._UZ(15,"textarea",7),t.qZA()()(),t.TgZ(16,"mat-card-actions",8)(17,"button",9),t.NdJ("click",function(){return d.onSubmitUpdateNoteForm()}),t._uU(18,"Update"),t.qZA(),t.TgZ(19,"button",10),t._uU(20,"Back"),t.qZA()()()()(),t._UZ(21,"p-toast",11)),2&o&&(t.xp6(7),t.Q6J("formGroup",d.updateNoteForm))},dependencies:[p.rH,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,u.a8,u.dk,u.dn,u.n5,u.hq,y.lW,h.KE,h.hX,g.Nt,U.FN],styles:[".note-form[_ngcontent-%COMP%], .note-full-width[_ngcontent-%COMP%]{width:100%}textarea[_ngcontent-%COMP%]{height:250px}"]}),e})()}];let Z=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[p.Bz.forChild(D),p.Bz]}),e})(),T=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[v.ez],imports:[S.ez,Z,n.UX,u.QW,y.ot,h.lN,g.c,p.Bz,U.EV]}),e})()}}]);